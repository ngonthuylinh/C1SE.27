{"ast":null,"code":"var _jsxFileName = \"D:\\\\form-agent-AI-project\\\\frontend-react\\\\src\\\\components\\\\SurveyBuilder.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Paper, Typography, Box, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Checkbox, FormControlLabel, List, ListItem, ListItemText, IconButton, Chip, Alert, CircularProgress, Card, CardContent, CardActions, Divider, Stepper, Step, StepLabel, StepContent, FormGroup, Switch, FormControl, InputLabel, Select, MenuItem, Grid, Accordion, AccordionSummary, AccordionDetails } from '@mui/material';\nimport { PlaylistAddCheck as SurveyIcon, Delete as DeleteIcon, PictureAsPdf as PdfIcon, Share as ShareIcon, ContentCopy as CopyIcon, CheckCircle as CheckIcon, Send as SendIcon, GetApp as DownloadIcon, OpenInNew as OpenInNewIcon, Add as AddIcon, ExpandMore as ExpandMoreIcon } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SurveyBuilder = ({\n  questions,\n  keyword,\n  category\n}) => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [activeStep, setActiveStep] = useState(0);\n  const [selectedQuestions, setSelectedQuestions] = useState([]);\n  const [customQuestions, setCustomQuestions] = useState([]);\n  const [newQuestion, setNewQuestion] = useState('');\n  const [newQuestionCategory, setNewQuestionCategory] = useState(category || 'general');\n  const [surveyTitle, setSurveyTitle] = useState(`${keyword} Survey`);\n  const [surveyDescription, setSurveyDescription] = useState('');\n  const [settings, setSettings] = useState({\n    allowAnonymous: true,\n    collectEmail: false,\n    multipleSubmissions: false,\n    requireAll: false\n  });\n  const [loading, setLoading] = useState(false);\n  const [createdSurvey, setCreatedSurvey] = useState(null);\n  const [error, setError] = useState('');\n  const steps = ['Select Questions', 'Configure Survey', 'Settings & Preview', 'Create Survey'];\n  const handleOpen = () => {\n    setOpen(true);\n    setSelectedQuestions([...questions]); // Select all by default\n    setActiveStep(0);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setCreatedSurvey(null);\n    setError('');\n    setActiveStep(0);\n  };\n  const handleQuestionSelect = (question, checked) => {\n    if (checked) {\n      setSelectedQuestions([...selectedQuestions, question]);\n    } else {\n      setSelectedQuestions(selectedQuestions.filter(q => q.question !== question.question));\n    }\n  };\n  const handleSelectAll = checked => {\n    const allQuestions = getAllQuestions();\n    if (checked) {\n      setSelectedQuestions([...allQuestions]);\n    } else {\n      setSelectedQuestions([]);\n    }\n  };\n  const removeQuestion = questionToRemove => {\n    setSelectedQuestions(selectedQuestions.filter(q => q.question !== questionToRemove.question));\n  };\n\n  // Custom questions functions\n  const addCustomQuestion = () => {\n    if (!newQuestion.trim()) return;\n    const customQuestion = {\n      question: newQuestion.trim(),\n      category: newQuestionCategory,\n      confidence: 1.0,\n      // User-created questions have 100% confidence\n      method: 'user_created',\n      source_keyword: 'custom'\n    };\n    setCustomQuestions([...customQuestions, customQuestion]);\n    setSelectedQuestions([...selectedQuestions, customQuestion]);\n    setNewQuestion('');\n  };\n  const removeCustomQuestion = questionToRemove => {\n    setCustomQuestions(customQuestions.filter(q => q.question !== questionToRemove.question));\n    setSelectedQuestions(selectedQuestions.filter(q => q.question !== questionToRemove.question));\n  };\n  const editCustomQuestion = (oldQuestion, newText) => {\n    const updatedCustomQuestions = customQuestions.map(q => q.question === oldQuestion.question ? {\n      ...q,\n      question: newText.trim()\n    } : q);\n    setCustomQuestions(updatedCustomQuestions);\n    const updatedSelectedQuestions = selectedQuestions.map(q => q.question === oldQuestion.question ? {\n      ...q,\n      question: newText.trim()\n    } : q);\n    setSelectedQuestions(updatedSelectedQuestions);\n  };\n\n  // Get all questions (AI generated + custom)\n  const getAllQuestions = () => [...questions, ...customQuestions];\n  const handleNext = () => {\n    setActiveStep(prev => prev + 1);\n  };\n  const handleBack = () => {\n    setActiveStep(prev => prev - 1);\n  };\n  const createSurvey = async () => {\n    if (selectedQuestions.length === 0) {\n      setError('Please select at least one question');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      // Prepare survey data\n      const surveyData = {\n        title: surveyTitle.trim(),\n        category: category || 'general',\n        description: surveyDescription.trim(),\n        questions: selectedQuestions.map(q => ({\n          question: q.question,\n          type: 'text',\n          // Default type, could be enhanced\n          required: settings.requireAll,\n          options: null\n        })),\n        settings\n      };\n\n      // Create survey via API\n      const response = await fetch('http://localhost:8001/api/survey/create', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(surveyData)\n      });\n      const result = await response.json();\n      if (result.success) {\n        setCreatedSurvey(result.form);\n        setActiveStep(prev => prev + 1);\n      } else {\n        throw new Error(result.error || 'Failed to create survey');\n      }\n    } catch (err) {\n      console.error('Error creating survey:', err);\n      setError(`Failed to create survey: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const copyToClipboard = async text => {\n    try {\n      await navigator.clipboard.writeText(text);\n      // Could add a snackbar notification here\n    } catch (err) {\n      console.error('Failed to copy:', err);\n    }\n  };\n  const downloadPDF = () => {\n    if (createdSurvey) {\n      window.open(createdSurvey.pdfUrl, '_blank');\n    }\n  };\n  const openSurvey = () => {\n    if (createdSurvey) {\n      window.open(createdSurvey.shareUrl, '_blank');\n    }\n  };\n  const renderStepContent = step => {\n    switch (step) {\n      case 0:\n        const allQuestions = getAllQuestions();\n        return /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Select Questions for Your Survey\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            sx: {\n              mb: 3\n            },\n            children: \"Choose which questions you want to include in your survey form, or add your own custom questions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n              expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 29\n              }, this),\n              \"aria-controls\": \"add-custom-question-content\",\n              id: \"add-custom-question-header\",\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                sx: {\n                  color: 'primary.main',\n                  fontWeight: 'bold'\n                },\n                children: [/*#__PURE__*/_jsxDEV(AddIcon, {\n                  sx: {\n                    mr: 1,\n                    verticalAlign: 'middle'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this), \"Add Your Own Questions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    fullWidth: true,\n                    label: \"Your Question\",\n                    placeholder: \"Enter your custom question...\",\n                    value: newQuestion,\n                    onChange: e => setNewQuestion(e.target.value),\n                    multiline: true,\n                    rows: 2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 3,\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    fullWidth: true,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      children: \"Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      value: newQuestionCategory,\n                      onChange: e => setNewQuestionCategory(e.target.value),\n                      label: \"Category\",\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"general\",\n                        children: \"General\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"it\",\n                        children: \"IT\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 306,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"marketing\",\n                        children: \"Marketing\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"economics\",\n                        children: \"Economics\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 3,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    fullWidth: true,\n                    variant: \"contained\",\n                    onClick: addCustomQuestion,\n                    disabled: !newQuestion.trim(),\n                    startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 34\n                    }, this),\n                    sx: {\n                      height: '56px'\n                    },\n                    children: \"Add Question\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: selectedQuestions.length === allQuestions.length && allQuestions.length > 0,\n                indeterminate: selectedQuestions.length > 0 && selectedQuestions.length < allQuestions.length,\n                onChange: e => handleSelectAll(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this),\n              label: `Select All (${allQuestions.length} questions)`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), questions.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                fontWeight: 'bold',\n                mb: 1,\n                color: 'text.secondary'\n              },\n              children: [\"AI Generated Questions (\", questions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              sx: {\n                mb: 2\n              },\n              children: questions.map((question, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n                divider: true,\n                children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                  checked: selectedQuestions.some(q => q.question === question.question),\n                  onChange: e => handleQuestionSelect(question, e.target.checked),\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: question.question,\n                  secondary: /*#__PURE__*/_jsxDEV(Box, {\n                    children: [/*#__PURE__*/_jsxDEV(Chip, {\n                      size: \"small\",\n                      label: question.category,\n                      color: \"primary\",\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                      size: \"small\",\n                      label: `${Math.round(question.confidence * 100)}% confidence`,\n                      variant: \"outlined\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                      size: \"small\",\n                      label: \"AI Generated\",\n                      sx: {\n                        ml: 1,\n                        bgcolor: 'rgba(25, 118, 210, 0.1)'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 23\n                }, this)]\n              }, `ai-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), customQuestions.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                fontWeight: 'bold',\n                mb: 1,\n                color: 'text.secondary'\n              },\n              children: [\"Your Custom Questions (\", customQuestions.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              sx: {\n                mb: 2\n              },\n              children: customQuestions.map((question, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n                divider: true,\n                children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                  checked: selectedQuestions.some(q => q.question === question.question),\n                  onChange: e => handleQuestionSelect(question, e.target.checked),\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: question.question,\n                  secondary: /*#__PURE__*/_jsxDEV(Box, {\n                    children: [/*#__PURE__*/_jsxDEV(Chip, {\n                      size: \"small\",\n                      label: question.category,\n                      color: \"secondary\",\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                      size: \"small\",\n                      label: \"100% confidence\",\n                      variant: \"outlined\",\n                      sx: {\n                        mr: 1\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                      size: \"small\",\n                      label: \"Custom\",\n                      sx: {\n                        bgcolor: 'rgba(156, 39, 176, 0.1)'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: () => removeCustomQuestion(question),\n                  size: \"small\",\n                  sx: {\n                    ml: 1\n                  },\n                  color: \"error\",\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this)]\n              }, `custom-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(Alert, {\n            severity: selectedQuestions.length > 0 ? \"success\" : \"info\",\n            sx: {\n              mt: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Selected: \", selectedQuestions.length, \" questions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this), selectedQuestions.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this), \"\\u2022 AI Generated: \", selectedQuestions.filter(q => q.method !== 'user_created').length, \"\\u2022 Custom: \", selectedQuestions.filter(q => q.method === 'user_created').length]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this);\n      case 1:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Configure Your Survey\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Survey Title\",\n            value: surveyTitle,\n            onChange: e => setSurveyTitle(e.target.value),\n            sx: {\n              mb: 3\n            },\n            placeholder: \"Enter a descriptive title for your survey\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            multiline: true,\n            rows: 3,\n            label: \"Survey Description (Optional)\",\n            value: surveyDescription,\n            onChange: e => setSurveyDescription(e.target.value),\n            sx: {\n              mb: 3\n            },\n            placeholder: \"Provide context or instructions for survey participants\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"Selected Questions Preview:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              maxHeight: 300,\n              overflow: 'auto',\n              border: 1,\n              borderColor: 'grey.300',\n              borderRadius: 1,\n              p: 2\n            },\n            children: selectedQuestions.map((question, index) => /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2,\n                p: 1,\n                bgcolor: 'grey.50',\n                borderRadius: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  fontWeight: 'medium'\n                },\n                children: [index + 1, \". \", question.question]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: () => removeQuestion(question),\n                sx: {\n                  float: 'right',\n                  mt: -4\n                },\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Survey Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                checked: settings.allowAnonymous,\n                onChange: e => setSettings({\n                  ...settings,\n                  allowAnonymous: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this),\n              label: \"Allow Anonymous Responses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                checked: settings.collectEmail,\n                onChange: e => setSettings({\n                  ...settings,\n                  collectEmail: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this),\n              label: \"Collect Email Addresses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                checked: settings.multipleSubmissions,\n                onChange: e => setSettings({\n                  ...settings,\n                  multipleSubmissions: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this),\n              label: \"Allow Multiple Submissions per User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, {\n                checked: settings.requireAll,\n                onChange: e => setSettings({\n                  ...settings,\n                  requireAll: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this),\n              label: \"Make All Questions Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            gutterBottom: true,\n            children: \"Survey Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            variant: \"outlined\",\n            sx: {\n              p: 3,\n              bgcolor: 'grey.50'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              color: \"primary\",\n              children: surveyTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this), surveyDescription && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                mb: 2,\n                color: 'text.secondary'\n              },\n              children: surveyDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Questions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this), \" \", selectedQuestions.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Category:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this), \" \", category]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          textAlign: \"center\",\n          children: loading ? /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 60,\n              sx: {\n                mb: 3\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Creating Your Survey...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              children: \"Please wait while we generate your survey form and PDF.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this) : createdSurvey ? /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              sx: {\n                fontSize: 80,\n                color: 'success.main',\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              gutterBottom: true,\n              color: \"success.main\",\n              children: \"Survey Created Successfully!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                mt: 3,\n                textAlign: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: createdSurvey.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  gutterBottom: true,\n                  children: [\"Survey ID: \", createdSurvey.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  gutterBottom: true,\n                  children: [\"Questions: \", createdSurvey.questionCount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  children: [\"Created: \", new Date(createdSurvey.createdAt).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  startIcon: /*#__PURE__*/_jsxDEV(ShareIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 34\n                  }, this),\n                  variant: \"contained\",\n                  onClick: openSurvey,\n                  size: \"small\",\n                  children: \"Open Survey\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  startIcon: /*#__PURE__*/_jsxDEV(CopyIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 593,\n                    columnNumber: 34\n                  }, this),\n                  onClick: () => copyToClipboard(createdSurvey.shareUrl),\n                  size: \"small\",\n                  children: \"Copy Link\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  startIcon: /*#__PURE__*/_jsxDEV(PdfIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 600,\n                    columnNumber: 34\n                  }, this),\n                  onClick: downloadPDF,\n                  size: \"small\",\n                  children: \"Download PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 3,\n                p: 2,\n                bgcolor: 'grey.50',\n                borderRadius: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                gutterBottom: true,\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Share URL:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  wordBreak: 'break-all',\n                  color: 'primary.main'\n                },\n                children: createdSurvey.shareUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Ready to Create Survey\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              sx: {\n                mb: 3\n              },\n              children: \"Review your settings and click \\\"Create Survey\\\" to generate your form.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"info\",\n              sx: {\n                mb: 3\n              },\n              children: \"This will create a shareable survey form and generate a PDF version for download.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 17\n            }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"error\",\n              sx: {\n                mb: 3\n              },\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              children: \"Click \\\"Create Survey\\\" button below to proceed.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      startIcon: /*#__PURE__*/_jsxDEV(SurveyIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 20\n      }, this),\n      onClick: handleOpen,\n      disabled: questions.length === 0,\n      sx: {\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        backgroundClip: 'text',\n        WebkitBackgroundClip: 'text',\n        WebkitTextFillColor: 'transparent',\n        borderColor: '#667eea',\n        '&:hover': {\n          borderColor: '#764ba2'\n        }\n      },\n      children: \"Create Survey Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      maxWidth: \"md\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          minHeight: '600px'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(SurveyIcon, {\n            sx: {\n              mr: 1,\n              color: 'primary.main'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 13\n          }, this), \"AI Survey Builder\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Stepper, {\n          activeStep: activeStep,\n          orientation: \"vertical\",\n          children: steps.map((label, index) => /*#__PURE__*/_jsxDEV(Step, {\n            children: [/*#__PURE__*/_jsxDEV(StepLabel, {\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StepContent, {\n              children: renderStepContent(index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this)]\n          }, label, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [activeStep > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleBack,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 13\n        }, this), activeStep < 2 && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleNext,\n          disabled: activeStep === 0 && selectedQuestions.length === 0,\n          children: activeStep === 1 ? 'Review & Settings' : 'Next'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 13\n        }, this), activeStep === 2 && !createdSurvey && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: createSurvey,\n          disabled: selectedQuestions.length === 0,\n          startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 26\n          }, this),\n          color: \"primary\",\n          children: \"Create Survey\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 13\n        }, this), createdSurvey && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: downloadPDF,\n            startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 28\n            }, this),\n            sx: {\n              mr: 1\n            },\n            children: \"Download PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: openSurvey,\n            startIcon: /*#__PURE__*/_jsxDEV(OpenInNewIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 28\n            }, this),\n            children: \"Open Survey\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          children: createdSurvey ? 'Close' : 'Cancel'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SurveyBuilder, \"DYVkncfQUu+vlvbpeHOdi9SmXXY=\");\n_c = SurveyBuilder;\nexport default SurveyBuilder;\nvar _c;\n$RefreshReg$(_c, \"SurveyBuilder\");","map":{"version":3,"names":["React","useState","Paper","Typography","Box","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Checkbox","FormControlLabel","List","ListItem","ListItemText","IconButton","Chip","Alert","CircularProgress","Card","CardContent","CardActions","Divider","Stepper","Step","StepLabel","StepContent","FormGroup","Switch","FormControl","InputLabel","Select","MenuItem","Grid","Accordion","AccordionSummary","AccordionDetails","PlaylistAddCheck","SurveyIcon","Delete","DeleteIcon","PictureAsPdf","PdfIcon","Share","ShareIcon","ContentCopy","CopyIcon","CheckCircle","CheckIcon","Send","SendIcon","GetApp","DownloadIcon","OpenInNew","OpenInNewIcon","Add","AddIcon","ExpandMore","ExpandMoreIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","SurveyBuilder","questions","keyword","category","_s","open","setOpen","activeStep","setActiveStep","selectedQuestions","setSelectedQuestions","customQuestions","setCustomQuestions","newQuestion","setNewQuestion","newQuestionCategory","setNewQuestionCategory","surveyTitle","setSurveyTitle","surveyDescription","setSurveyDescription","settings","setSettings","allowAnonymous","collectEmail","multipleSubmissions","requireAll","loading","setLoading","createdSurvey","setCreatedSurvey","error","setError","steps","handleOpen","handleClose","handleQuestionSelect","question","checked","filter","q","handleSelectAll","allQuestions","getAllQuestions","removeQuestion","questionToRemove","addCustomQuestion","trim","customQuestion","confidence","method","source_keyword","removeCustomQuestion","editCustomQuestion","oldQuestion","newText","updatedCustomQuestions","map","updatedSelectedQuestions","handleNext","prev","handleBack","createSurvey","length","surveyData","title","description","type","required","options","response","fetch","headers","body","JSON","stringify","result","json","success","form","Error","err","console","message","copyToClipboard","text","navigator","clipboard","writeText","downloadPDF","window","pdfUrl","openSurvey","shareUrl","renderStepContent","step","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","sx","mb","expandIcon","id","fontWeight","mr","verticalAlign","container","spacing","item","xs","md","fullWidth","label","placeholder","value","onChange","e","target","multiline","rows","onClick","disabled","startIcon","height","control","indeterminate","index","divider","some","primary","secondary","size","Math","round","ml","bgcolor","fontSize","severity","mt","maxHeight","overflow","border","borderColor","borderRadius","p","float","my","textAlign","questionCount","Date","createdAt","toLocaleString","wordBreak","background","backgroundClip","WebkitBackgroundClip","WebkitTextFillColor","onClose","maxWidth","PaperProps","minHeight","display","alignItems","orientation","_c","$RefreshReg$"],"sources":["D:/form-agent-AI-project/frontend-react/src/components/SurveyBuilder.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  IconButton,\r\n  Chip,\r\n  Alert,\r\n  CircularProgress,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Divider,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  StepContent,\r\n  FormGroup,\r\n  Switch,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Grid,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails\r\n} from '@mui/material';\r\nimport {\r\n  PlaylistAddCheck as SurveyIcon,\r\n  Delete as DeleteIcon,\r\n  PictureAsPdf as PdfIcon,\r\n  Share as ShareIcon,\r\n  ContentCopy as CopyIcon,\r\n  CheckCircle as CheckIcon,\r\n  Send as SendIcon,\r\n  GetApp as DownloadIcon,\r\n  OpenInNew as OpenInNewIcon,\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  ExpandMore as ExpandMoreIcon\r\n} from '@mui/icons-material';\r\nimport { Question } from '../types';\r\nimport questionApi from '../api';\r\n\r\ninterface SurveyBuilderProps {\r\n  questions: Question[];\r\n  keyword: string;\r\n  category: string;\r\n}\r\n\r\ninterface SurveySettings {\r\n  allowAnonymous: boolean;\r\n  collectEmail: boolean;\r\n  multipleSubmissions: boolean;\r\n  requireAll: boolean;\r\n}\r\n\r\ninterface CreatedSurvey {\r\n  id: string;\r\n  title: string;\r\n  questionCount: number;\r\n  shareUrl: string;\r\n  pdfUrl: string;\r\n  createdAt: string;\r\n}\r\n\r\nconst SurveyBuilder: React.FC<SurveyBuilderProps> = ({ questions, keyword, category }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [selectedQuestions, setSelectedQuestions] = useState<Question[]>([]);\r\n  const [customQuestions, setCustomQuestions] = useState<Question[]>([]);\r\n  const [newQuestion, setNewQuestion] = useState('');\r\n  const [newQuestionCategory, setNewQuestionCategory] = useState(category || 'general');\r\n  const [surveyTitle, setSurveyTitle] = useState(`${keyword} Survey`);\r\n  const [surveyDescription, setSurveyDescription] = useState('');\r\n  const [settings, setSettings] = useState<SurveySettings>({\r\n    allowAnonymous: true,\r\n    collectEmail: false,\r\n    multipleSubmissions: false,\r\n    requireAll: false\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [createdSurvey, setCreatedSurvey] = useState<CreatedSurvey | null>(null);\r\n  const [error, setError] = useState('');\r\n\r\n  const steps = [\r\n    'Select Questions',\r\n    'Configure Survey', \r\n    'Settings & Preview',\r\n    'Create Survey'\r\n  ];\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n    setSelectedQuestions([...questions]); // Select all by default\r\n    setActiveStep(0);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setCreatedSurvey(null);\r\n    setError('');\r\n    setActiveStep(0);\r\n  };\r\n\r\n  const handleQuestionSelect = (question: Question, checked: boolean) => {\r\n    if (checked) {\r\n      setSelectedQuestions([...selectedQuestions, question]);\r\n    } else {\r\n      setSelectedQuestions(selectedQuestions.filter(q => q.question !== question.question));\r\n    }\r\n  };\r\n\r\n  const handleSelectAll = (checked: boolean) => {\r\n    const allQuestions = getAllQuestions();\r\n    if (checked) {\r\n      setSelectedQuestions([...allQuestions]);\r\n    } else {\r\n      setSelectedQuestions([]);\r\n    }\r\n  };\r\n\r\n  const removeQuestion = (questionToRemove: Question) => {\r\n    setSelectedQuestions(selectedQuestions.filter(q => q.question !== questionToRemove.question));\r\n  };\r\n\r\n  // Custom questions functions\r\n  const addCustomQuestion = () => {\r\n    if (!newQuestion.trim()) return;\r\n    \r\n    const customQuestion: Question = {\r\n      question: newQuestion.trim(),\r\n      category: newQuestionCategory,\r\n      confidence: 1.0, // User-created questions have 100% confidence\r\n      method: 'user_created',\r\n      source_keyword: 'custom'\r\n    };\r\n    \r\n    setCustomQuestions([...customQuestions, customQuestion]);\r\n    setSelectedQuestions([...selectedQuestions, customQuestion]);\r\n    setNewQuestion('');\r\n  };\r\n\r\n  const removeCustomQuestion = (questionToRemove: Question) => {\r\n    setCustomQuestions(customQuestions.filter(q => q.question !== questionToRemove.question));\r\n    setSelectedQuestions(selectedQuestions.filter(q => q.question !== questionToRemove.question));\r\n  };\r\n\r\n  const editCustomQuestion = (oldQuestion: Question, newText: string) => {\r\n    const updatedCustomQuestions = customQuestions.map(q => \r\n      q.question === oldQuestion.question \r\n        ? { ...q, question: newText.trim() }\r\n        : q\r\n    );\r\n    setCustomQuestions(updatedCustomQuestions);\r\n    \r\n    const updatedSelectedQuestions = selectedQuestions.map(q => \r\n      q.question === oldQuestion.question \r\n        ? { ...q, question: newText.trim() }\r\n        : q\r\n    );\r\n    setSelectedQuestions(updatedSelectedQuestions);\r\n  };\r\n\r\n  // Get all questions (AI generated + custom)\r\n  const getAllQuestions = () => [...questions, ...customQuestions];\r\n\r\n  const handleNext = () => {\r\n    setActiveStep(prev => prev + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(prev => prev - 1);\r\n  };\r\n\r\n  const createSurvey = async () => {\r\n    if (selectedQuestions.length === 0) {\r\n      setError('Please select at least one question');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Prepare survey data\r\n      const surveyData = {\r\n        title: surveyTitle.trim(),\r\n        category: category || 'general',\r\n        description: surveyDescription.trim(),\r\n        questions: selectedQuestions.map(q => ({\r\n          question: q.question,\r\n          type: 'text', // Default type, could be enhanced\r\n          required: settings.requireAll,\r\n          options: null\r\n        })),\r\n        settings\r\n      };\r\n\r\n      // Create survey via API\r\n      const response = await fetch('http://localhost:8001/api/survey/create', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(surveyData)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setCreatedSurvey(result.form);\r\n        setActiveStep(prev => prev + 1);\r\n      } else {\r\n        throw new Error(result.error || 'Failed to create survey');\r\n      }\r\n\r\n    } catch (err: any) {\r\n      console.error('Error creating survey:', err);\r\n      setError(`Failed to create survey: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = async (text: string) => {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      // Could add a snackbar notification here\r\n    } catch (err) {\r\n      console.error('Failed to copy:', err);\r\n    }\r\n  };\r\n\r\n  const downloadPDF = () => {\r\n    if (createdSurvey) {\r\n      window.open(createdSurvey.pdfUrl, '_blank');\r\n    }\r\n  };\r\n\r\n  const openSurvey = () => {\r\n    if (createdSurvey) {\r\n      window.open(createdSurvey.shareUrl, '_blank');\r\n    }\r\n  };\r\n\r\n  const renderStepContent = (step: number) => {\r\n    switch (step) {\r\n      case 0:\r\n        const allQuestions = getAllQuestions();\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Select Questions for Your Survey\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mb: 3 }}>\r\n              Choose which questions you want to include in your survey form, or add your own custom questions.\r\n            </Typography>\r\n\r\n            {/* Add Custom Question Section */}\r\n            <Accordion sx={{ mb: 3 }}>\r\n              <AccordionSummary\r\n                expandIcon={<ExpandMoreIcon />}\r\n                aria-controls=\"add-custom-question-content\"\r\n                id=\"add-custom-question-header\"\r\n              >\r\n                <Typography variant=\"subtitle1\" sx={{ color: 'primary.main', fontWeight: 'bold' }}>\r\n                  <AddIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                  Add Your Own Questions\r\n                </Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} md={6}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Your Question\"\r\n                      placeholder=\"Enter your custom question...\"\r\n                      value={newQuestion}\r\n                      onChange={(e) => setNewQuestion(e.target.value)}\r\n                      multiline\r\n                      rows={2}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} md={3}>\r\n                    <FormControl fullWidth>\r\n                      <InputLabel>Category</InputLabel>\r\n                      <Select\r\n                        value={newQuestionCategory}\r\n                        onChange={(e) => setNewQuestionCategory(e.target.value)}\r\n                        label=\"Category\"\r\n                      >\r\n                        <MenuItem value=\"general\">General</MenuItem>\r\n                        <MenuItem value=\"it\">IT</MenuItem>\r\n                        <MenuItem value=\"marketing\">Marketing</MenuItem>\r\n                        <MenuItem value=\"economics\">Economics</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={3}>\r\n                    <Button\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      onClick={addCustomQuestion}\r\n                      disabled={!newQuestion.trim()}\r\n                      startIcon={<AddIcon />}\r\n                      sx={{ height: '56px' }}\r\n                    >\r\n                      Add Question\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </AccordionDetails>\r\n            </Accordion>\r\n\r\n            {/* Select All Checkbox */}\r\n            <Box sx={{ mb: 2 }}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={selectedQuestions.length === allQuestions.length && allQuestions.length > 0}\r\n                    indeterminate={selectedQuestions.length > 0 && selectedQuestions.length < allQuestions.length}\r\n                    onChange={(e) => handleSelectAll(e.target.checked)}\r\n                  />\r\n                }\r\n                label={`Select All (${allQuestions.length} questions)`}\r\n              />\r\n            </Box>\r\n\r\n            {/* AI Generated Questions */}\r\n            {questions.length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" sx={{ fontWeight: 'bold', mb: 1, color: 'text.secondary' }}>\r\n                  AI Generated Questions ({questions.length})\r\n                </Typography>\r\n                <List sx={{ mb: 2 }}>\r\n                  {questions.map((question, index) => (\r\n                    <ListItem key={`ai-${index}`} divider>\r\n                      <Checkbox\r\n                        checked={selectedQuestions.some(q => q.question === question.question)}\r\n                        onChange={(e) => handleQuestionSelect(question, e.target.checked)}\r\n                        sx={{ mr: 1 }}\r\n                      />\r\n                      <ListItemText\r\n                        primary={question.question}\r\n                        secondary={\r\n                          <Box>\r\n                            <Chip size=\"small\" label={question.category} color=\"primary\" sx={{ mr: 1 }} />\r\n                            <Chip size=\"small\" label={`${Math.round(question.confidence * 100)}% confidence`} variant=\"outlined\" />\r\n                            <Chip size=\"small\" label=\"AI Generated\" sx={{ ml: 1, bgcolor: 'rgba(25, 118, 210, 0.1)' }} />\r\n                          </Box>\r\n                        }\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </>\r\n            )}\r\n\r\n            {/* Custom Questions */}\r\n            {customQuestions.length > 0 && (\r\n              <>\r\n                <Typography variant=\"subtitle2\" sx={{ fontWeight: 'bold', mb: 1, color: 'text.secondary' }}>\r\n                  Your Custom Questions ({customQuestions.length})\r\n                </Typography>\r\n                <List sx={{ mb: 2 }}>\r\n                  {customQuestions.map((question, index) => (\r\n                    <ListItem key={`custom-${index}`} divider>\r\n                      <Checkbox\r\n                        checked={selectedQuestions.some(q => q.question === question.question)}\r\n                        onChange={(e) => handleQuestionSelect(question, e.target.checked)}\r\n                        sx={{ mr: 1 }}\r\n                      />\r\n                      <ListItemText\r\n                        primary={question.question}\r\n                        secondary={\r\n                          <Box>\r\n                            <Chip size=\"small\" label={question.category} color=\"secondary\" sx={{ mr: 1 }} />\r\n                            <Chip size=\"small\" label=\"100% confidence\" variant=\"outlined\" sx={{ mr: 1 }} />\r\n                            <Chip size=\"small\" label=\"Custom\" sx={{ bgcolor: 'rgba(156, 39, 176, 0.1)' }} />\r\n                          </Box>\r\n                        }\r\n                      />\r\n                      <IconButton\r\n                        onClick={() => removeCustomQuestion(question)}\r\n                        size=\"small\"\r\n                        sx={{ ml: 1 }}\r\n                        color=\"error\"\r\n                      >\r\n                        <DeleteIcon fontSize=\"small\" />\r\n                      </IconButton>\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </>\r\n            )}\r\n\r\n            {/* Selection Summary */}\r\n            <Alert \r\n              severity={selectedQuestions.length > 0 ? \"success\" : \"info\"} \r\n              sx={{ mt: 2 }}\r\n            >\r\n              <Typography variant=\"body2\">\r\n                <strong>Selected: {selectedQuestions.length} questions</strong>\r\n                {selectedQuestions.length > 0 && (\r\n                  <>\r\n                    <br />\r\n                     AI Generated: {selectedQuestions.filter(q => q.method !== 'user_created').length}\r\n                     Custom: {selectedQuestions.filter(q => q.method === 'user_created').length}\r\n                  </>\r\n                )}\r\n              </Typography>\r\n            </Alert>\r\n          </Box>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Configure Your Survey\r\n            </Typography>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Survey Title\"\r\n              value={surveyTitle}\r\n              onChange={(e) => setSurveyTitle(e.target.value)}\r\n              sx={{ mb: 3 }}\r\n              placeholder=\"Enter a descriptive title for your survey\"\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              multiline\r\n              rows={3}\r\n              label=\"Survey Description (Optional)\"\r\n              value={surveyDescription}\r\n              onChange={(e) => setSurveyDescription(e.target.value)}\r\n              sx={{ mb: 3 }}\r\n              placeholder=\"Provide context or instructions for survey participants\"\r\n            />\r\n\r\n            <Typography variant=\"subtitle1\" gutterBottom>\r\n              Selected Questions Preview:\r\n            </Typography>\r\n            <Box sx={{ maxHeight: 300, overflow: 'auto', border: 1, borderColor: 'grey.300', borderRadius: 1, p: 2 }}>\r\n              {selectedQuestions.map((question, index) => (\r\n                <Box key={index} sx={{ mb: 2, p: 1, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                  <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\r\n                    {index + 1}. {question.question}\r\n                  </Typography>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => removeQuestion(question)}\r\n                    sx={{ float: 'right', mt: -4 }}\r\n                  >\r\n                    <DeleteIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Box>\r\n              ))}\r\n            </Box>\r\n          </Box>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <Box>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Survey Settings\r\n            </Typography>\r\n\r\n            <FormGroup>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.allowAnonymous}\r\n                    onChange={(e) => setSettings({...settings, allowAnonymous: e.target.checked})}\r\n                  />\r\n                }\r\n                label=\"Allow Anonymous Responses\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.collectEmail}\r\n                    onChange={(e) => setSettings({...settings, collectEmail: e.target.checked})}\r\n                  />\r\n                }\r\n                label=\"Collect Email Addresses\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.multipleSubmissions}\r\n                    onChange={(e) => setSettings({...settings, multipleSubmissions: e.target.checked})}\r\n                  />\r\n                }\r\n                label=\"Allow Multiple Submissions per User\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={settings.requireAll}\r\n                    onChange={(e) => setSettings({...settings, requireAll: e.target.checked})}\r\n                  />\r\n                }\r\n                label=\"Make All Questions Required\"\r\n              />\r\n            </FormGroup>\r\n\r\n            <Divider sx={{ my: 3 }} />\r\n\r\n            <Typography variant=\"subtitle1\" gutterBottom>\r\n              Survey Preview\r\n            </Typography>\r\n            <Paper variant=\"outlined\" sx={{ p: 3, bgcolor: 'grey.50' }}>\r\n              <Typography variant=\"h6\" gutterBottom color=\"primary\">\r\n                {surveyTitle}\r\n              </Typography>\r\n              {surveyDescription && (\r\n                <Typography variant=\"body2\" sx={{ mb: 2, color: 'text.secondary' }}>\r\n                  {surveyDescription}\r\n                </Typography>\r\n              )}\r\n              <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                <strong>Questions:</strong> {selectedQuestions.length}\r\n              </Typography>\r\n              <Typography variant=\"body2\">\r\n                <strong>Category:</strong> {category}\r\n              </Typography>\r\n            </Paper>\r\n          </Box>\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <Box textAlign=\"center\">\r\n            {loading ? (\r\n              <Box>\r\n                <CircularProgress size={60} sx={{ mb: 3 }} />\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Creating Your Survey...\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Please wait while we generate your survey form and PDF.\r\n                </Typography>\r\n              </Box>\r\n            ) : createdSurvey ? (\r\n              <Box>\r\n                <CheckIcon sx={{ fontSize: 80, color: 'success.main', mb: 2 }} />\r\n                <Typography variant=\"h5\" gutterBottom color=\"success.main\">\r\n                  Survey Created Successfully!\r\n                </Typography>\r\n                \r\n                <Card sx={{ mt: 3, textAlign: 'left' }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      {createdSurvey.title}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                      Survey ID: {createdSurvey.id}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                      Questions: {createdSurvey.questionCount}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                      Created: {new Date(createdSurvey.createdAt).toLocaleString()}\r\n                    </Typography>\r\n                  </CardContent>\r\n                  <CardActions>\r\n                    <Button\r\n                      startIcon={<ShareIcon />}\r\n                      variant=\"contained\"\r\n                      onClick={openSurvey}\r\n                      size=\"small\"\r\n                    >\r\n                      Open Survey\r\n                    </Button>\r\n                    <Button\r\n                      startIcon={<CopyIcon />}\r\n                      onClick={() => copyToClipboard(createdSurvey.shareUrl)}\r\n                      size=\"small\"\r\n                    >\r\n                      Copy Link\r\n                    </Button>\r\n                    <Button\r\n                      startIcon={<PdfIcon />}\r\n                      onClick={downloadPDF}\r\n                      size=\"small\"\r\n                    >\r\n                      Download PDF\r\n                    </Button>\r\n                  </CardActions>\r\n                </Card>\r\n\r\n                <Box sx={{ mt: 3, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                  <Typography variant=\"body2\" gutterBottom>\r\n                    <strong>Share URL:</strong>\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ wordBreak: 'break-all', color: 'primary.main' }}>\r\n                    {createdSurvey.shareUrl}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            ) : (\r\n              <Box>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Ready to Create Survey\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mb: 3 }}>\r\n                  Review your settings and click \"Create Survey\" to generate your form.\r\n                </Typography>\r\n                \r\n                <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                  This will create a shareable survey form and generate a PDF version for download.\r\n                </Alert>\r\n\r\n                {error && (\r\n                  <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n                    {error}\r\n                  </Alert>\r\n                )}\r\n\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  Click \"Create Survey\" button below to proceed.\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"outlined\"\r\n        startIcon={<SurveyIcon />}\r\n        onClick={handleOpen}\r\n        disabled={questions.length === 0}\r\n        sx={{\r\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n          backgroundClip: 'text',\r\n          WebkitBackgroundClip: 'text',\r\n          WebkitTextFillColor: 'transparent',\r\n          borderColor: '#667eea',\r\n          '&:hover': {\r\n            borderColor: '#764ba2',\r\n          },\r\n        }}\r\n      >\r\n        Create Survey Form\r\n      </Button>\r\n\r\n      <Dialog \r\n        open={open} \r\n        onClose={handleClose}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: { minHeight: '600px' }\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          <Box display=\"flex\" alignItems=\"center\">\r\n            <SurveyIcon sx={{ mr: 1, color: 'primary.main' }} />\r\n            AI Survey Builder\r\n          </Box>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent>\r\n          <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n            {steps.map((label, index) => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n                <StepContent>\r\n                  {renderStepContent(index)}\r\n                </StepContent>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          {activeStep > 0 && (\r\n            <Button onClick={handleBack}>\r\n              Back\r\n            </Button>\r\n          )}\r\n          \r\n          {activeStep < 2 && (\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={handleNext}\r\n              disabled={activeStep === 0 && selectedQuestions.length === 0}\r\n            >\r\n              {activeStep === 1 ? 'Review & Settings' : 'Next'}\r\n            </Button>\r\n          )}\r\n          \r\n          {activeStep === 2 && !createdSurvey && (\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={createSurvey}\r\n              disabled={selectedQuestions.length === 0}\r\n              startIcon={<SendIcon />}\r\n              color=\"primary\"\r\n            >\r\n              Create Survey\r\n            </Button>\r\n          )}\r\n          \r\n          {createdSurvey && (\r\n            <>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={downloadPDF}\r\n                startIcon={<DownloadIcon />}\r\n                sx={{ mr: 1 }}\r\n              >\r\n                Download PDF\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={openSurvey}\r\n                startIcon={<OpenInNewIcon />}\r\n              >\r\n                Open Survey\r\n              </Button>\r\n            </>\r\n          )}\r\n          \r\n          <Button onClick={handleClose}>\r\n            {createdSurvey ? 'Close' : 'Cancel'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SurveyBuilder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}