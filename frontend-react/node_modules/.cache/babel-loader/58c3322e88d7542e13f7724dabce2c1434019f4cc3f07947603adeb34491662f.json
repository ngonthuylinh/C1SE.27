{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8001';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => response, error => {\n  var _error$response, _error$response$data, _error$response2, _error$response2$data;\n  const apiError = {\n    message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'An error occurred',\n    error: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Unknown error'\n  };\n  return Promise.reject(apiError);\n});\nexport const questionApi = {\n  // Health check\n  async checkHealth() {\n    const response = await api.get('/api/health');\n    return response.data;\n  },\n  // Get model information\n  async getModelInfo() {\n    const response = await api.get('/api/model/info');\n    return response.data;\n  },\n  // Generate questions\n  async generateQuestions(request) {\n    const response = await api.post('/api/questions/generate', request);\n    return response.data;\n  },\n  // Predict category\n  async predictCategory(request) {\n    const response = await api.post('/api/predict/category', request);\n    return response.data;\n  },\n  // Get available categories\n  async getCategories() {\n    const modelInfo = await this.getModelInfo();\n    return modelInfo.categories || [];\n  },\n  // Test connection\n  async testConnection() {\n    try {\n      await this.checkHealth();\n      return true;\n    } catch {\n      return false;\n    }\n  }\n};\nexport default questionApi;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","headers","interceptors","response","use","error","_error$response","_error$response$data","_error$response2","_error$response2$data","apiError","message","data","Promise","reject","questionApi","checkHealth","get","getModelInfo","generateQuestions","request","post","predictCategory","getCategories","modelInfo","categories","testConnection"],"sources":["D:/form-agent-AI-project/frontend-react/src/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport {\r\n  QuestionGenerationRequest,\r\n  QuestionGenerationResponse,\r\n  CategoryPredictionRequest,\r\n  CategoryPredictionResponse,\r\n  ModelInfo,\r\n  HealthResponse,\r\n  ApiError\r\n} from './types';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8001';\r\n\r\n// Create axios instance with default config\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    const apiError: ApiError = {\r\n      message: error.response?.data?.message || error.message || 'An error occurred',\r\n      error: error.response?.data?.error || 'Unknown error'\r\n    };\r\n    return Promise.reject(apiError);\r\n  }\r\n);\r\n\r\nexport const questionApi = {\r\n  // Health check\r\n  async checkHealth(): Promise<HealthResponse> {\r\n    const response = await api.get<HealthResponse>('/api/health');\r\n    return response.data;\r\n  },\r\n\r\n  // Get model information\r\n  async getModelInfo(): Promise<ModelInfo> {\r\n    const response = await api.get<ModelInfo>('/api/model/info');\r\n    return response.data;\r\n  },\r\n\r\n  // Generate questions\r\n  async generateQuestions(request: QuestionGenerationRequest): Promise<QuestionGenerationResponse> {\r\n    const response = await api.post<QuestionGenerationResponse>('/api/questions/generate', request);\r\n    return response.data;\r\n  },\r\n\r\n  // Predict category\r\n  async predictCategory(request: CategoryPredictionRequest): Promise<CategoryPredictionResponse> {\r\n    const response = await api.post<CategoryPredictionResponse>('/api/predict/category', request);\r\n    return response.data;\r\n  },\r\n\r\n  // Get available categories\r\n  async getCategories(): Promise<string[]> {\r\n    const modelInfo = await this.getModelInfo();\r\n    return modelInfo.categories || [];\r\n  },\r\n\r\n  // Test connection\r\n  async testConnection(): Promise<boolean> {\r\n    try {\r\n      await this.checkHealth();\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\nexport default questionApi;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAWzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;;AAE7E;AACA,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAEN,YAAY;EACrBO,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC1BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;EAAA,IAAAC,eAAA,EAAAC,oBAAA,EAAAC,gBAAA,EAAAC,qBAAA;EACT,MAAMC,QAAkB,GAAG;IACzBC,OAAO,EAAE,EAAAL,eAAA,GAAAD,KAAK,CAACF,QAAQ,cAAAG,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBM,IAAI,cAAAL,oBAAA,uBAApBA,oBAAA,CAAsBI,OAAO,KAAIN,KAAK,CAACM,OAAO,IAAI,mBAAmB;IAC9EN,KAAK,EAAE,EAAAG,gBAAA,GAAAH,KAAK,CAACF,QAAQ,cAAAK,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBI,IAAI,cAAAH,qBAAA,uBAApBA,qBAAA,CAAsBJ,KAAK,KAAI;EACxC,CAAC;EACD,OAAOQ,OAAO,CAACC,MAAM,CAACJ,QAAQ,CAAC;AACjC,CACF,CAAC;AAED,OAAO,MAAMK,WAAW,GAAG;EACzB;EACA,MAAMC,WAAWA,CAAA,EAA4B;IAC3C,MAAMb,QAAQ,GAAG,MAAMN,GAAG,CAACoB,GAAG,CAAiB,aAAa,CAAC;IAC7D,OAAOd,QAAQ,CAACS,IAAI;EACtB,CAAC;EAED;EACA,MAAMM,YAAYA,CAAA,EAAuB;IACvC,MAAMf,QAAQ,GAAG,MAAMN,GAAG,CAACoB,GAAG,CAAY,iBAAiB,CAAC;IAC5D,OAAOd,QAAQ,CAACS,IAAI;EACtB,CAAC;EAED;EACA,MAAMO,iBAAiBA,CAACC,OAAkC,EAAuC;IAC/F,MAAMjB,QAAQ,GAAG,MAAMN,GAAG,CAACwB,IAAI,CAA6B,yBAAyB,EAAED,OAAO,CAAC;IAC/F,OAAOjB,QAAQ,CAACS,IAAI;EACtB,CAAC;EAED;EACA,MAAMU,eAAeA,CAACF,OAAkC,EAAuC;IAC7F,MAAMjB,QAAQ,GAAG,MAAMN,GAAG,CAACwB,IAAI,CAA6B,uBAAuB,EAAED,OAAO,CAAC;IAC7F,OAAOjB,QAAQ,CAACS,IAAI;EACtB,CAAC;EAED;EACA,MAAMW,aAAaA,CAAA,EAAsB;IACvC,MAAMC,SAAS,GAAG,MAAM,IAAI,CAACN,YAAY,CAAC,CAAC;IAC3C,OAAOM,SAAS,CAACC,UAAU,IAAI,EAAE;EACnC,CAAC;EAED;EACA,MAAMC,cAAcA,CAAA,EAAqB;IACvC,IAAI;MACF,MAAM,IAAI,CAACV,WAAW,CAAC,CAAC;MACxB,OAAO,IAAI;IACb,CAAC,CAAC,MAAM;MACN,OAAO,KAAK;IACd;EACF;AACF,CAAC;AAED,eAAeD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}